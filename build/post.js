!function(){"use strict";var e,t={649:function(e,t,n){var l=window.wp.element,o=window.wp.blocks,r=(window.wp.i18n,window.wp.blockEditor),a=window.wp.components,s=window.wp.primitives,i=(0,l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(s.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),c=(0,l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(s.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),p=window.wp.apiFetch,u=n.n(p);const m=e=>{let{postId:t,headingLevel:n,showImage:o}=e;const[r,s]=(0,l.useState)(null),[i,c]=(0,l.useState)(!1);let p="single-post-block__post-body";return r||i||(c("loading"),u()({path:"/nfntscrl/v1/single_post/"+t}).then((e=>{s({title:e.title,thumbnail:e.thumbnail,excerpt:(0,l.RawHTML)({children:e.excerpt,className:"single-post-block__post-excerpt-wrapper"})}),p="single-post-block__post-body single-post-block__post-body--ok-state",c("done")})).catch((e=>{s({title:"Error retrieving post",excerpt:e.message||"An error occurred."}),p="single-post-block__post-body single-post-block__post-body--error-state",c("error")}))),n||(n=3),console.log(e),(0,l.createElement)("div",{className:"single-post-block__post-preview"},r&&(0,l.createElement)("div",{className:p},wp.element.createElement("h"+n,null,r.title),(0,l.createElement)("div",{className:"single-post-block__post-excerpt"},r.excerpt),o&&r.thumbnail&&(0,l.createElement)("figure",{className:"single-post-block__post-image"},(0,l.createElement)("img",{src:r.thumbnail,alt:"Post preview thumbnail"})))||(0,l.createElement)("div",{className:"single-post-block__loading-placeholder"},(0,l.createElement)(a.Spinner,null)))},d=e=>{var t;const{onChange:n}=e;return(0,l.createElement)("div",{className:"single-post-block__post-selector"},(0,l.createElement)("label",null,"Select a post to display:"),(0,l.createElement)(r.__experimentalLinkControl,{suggestionsQuery:{type:"post",subtype:null!==(t=nfntscrlPostBlock.post_types)&&void 0!==t?t:"post"},onChange:e=>{n&&n(e.id)},noDirectEntry:!0,settings:[]}))};(0,o.registerBlockType)("infinity-scroll/single-post-block",{icon:{src:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,l.createElement)("path",{d:"M3.691 6.292C5.094 4.771 7.217 4 10 4h1v2.819l-.804.161c-1.37.274-2.323.813-2.833 1.604A2.902 2.902 0 0 0 6.925 10H10a1 1 0 0 1 1 1v7c0 1.103-.897 2-2 2H3a1 1 0 0 1-1-1v-5l.003-2.919c-.009-.111-.199-2.741 1.688-4.789zM20 20h-6a1 1 0 0 1-1-1v-5l.003-2.919c-.009-.111-.199-2.741 1.688-4.789C16.094 4.771 18.217 4 21 4h1v2.819l-.804.161c-1.37.274-2.323.813-2.833 1.604A2.902 2.902 0 0 0 17.925 10H21a1 1 0 0 1 1 1v7c0 1.103-.897 2-2 2z"}))},attributes:{postId:{type:"integer"},displayOptions:{type:"object",default:{headingLevel:null,tag:"blockquote",showImage:null}}},edit:function(e){const{attributes:{postId:t,displayOptions:n},setAttributes:o,className:s}=e,p=(0,r.useBlockProps)(),[u,g]=(0,l.useState)(void 0!==t),v=(t,n)=>{let l=JSON.parse(JSON.stringify(e.attributes.displayOptions));l[t]=n,o({displayOptions:l})};return(0,l.createElement)("div",p,(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.InspectorControls,{key:"display"},(0,l.createElement)(a.PanelBody,{title:"Display Optiosn",initialOpen:!0},(0,l.createElement)(a.PanelRow,null,(0,l.createElement)(a.RangeControl,{label:"Heading Level",value:n.headingLevel||3,onChange:e=>{v("headingLevel",e)},min:1,max:6})),(0,l.createElement)(a.PanelRow,null,(0,l.createElement)(a.ToggleControl,{label:"Show Thumbnail",checked:n.showImage||!1,onChange:()=>{v("showImage",!n.showImage)}})))),u&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.BlockControls,null,(0,l.createElement)(a.ToolbarGroup,null,(0,l.createElement)(a.ToolbarButton,{icon:i,label:"Set Post",onClick:()=>g(!1)}))),(0,l.createElement)(m,{postId:t,postClass:s,headingLevel:n.headingLevel||nfntscrlPostBlock.default_heading_level,showImage:n.showImage||nfntscrlPostBlock.default_show_image}))||(0,l.createElement)(l.Fragment,null,t&&(0,l.createElement)(r.BlockControls,null,(0,l.createElement)(a.ToolbarGroup,null,(0,l.createElement)(a.ToolbarButton,{icon:c,label:"Cancel",onClick:()=>g(!0)}))),(0,l.createElement)(d,{onChange:e=>{e=parseInt(e),o({postId:e}),g(!0)}}))))},save:function(){return null}})}},n={};function l(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=function(t,n,o,r){if(!n){var a=1/0;for(p=0;p<e.length;p++){n=e[p][0],o=e[p][1],r=e[p][2];for(var s=!0,i=0;i<n.length;i++)(!1&r||a>=r)&&Object.keys(l.O).every((function(e){return l.O[e](n[i])}))?n.splice(i--,1):(s=!1,r<a&&(a=r));if(s){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[n,o,r]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={913:0,534:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,a=n[0],s=n[1],i=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)l.o(s,o)&&(l.m[o]=s[o]);if(i)var p=i(l)}for(t&&t(n);c<a.length;c++)r=a[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(p)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=l.O(void 0,[534],(function(){return l(649)}));o=l.O(o)}();